#!/usr/bin/make -f

%:
	dh $@ --with python3

override_dh_auto_install:
	dh_auto_install
	# Install the desktop file
	mkdir -p debian/usb-device-monitor/usr/share/applications
	cp debian/usb-device-monitor.desktop debian/usb-device-monitor/usr/share/applications/
	
	# Install the icon
	mkdir -p debian/usb-device-monitor/usr/share/icons/hicolor/scalable/apps
	cp debian/usb-device-monitor.svg debian/usb-device-monitor/usr/share/icons/hicolor/scalable/apps/
	
	# Install man page
	mkdir -p debian/usb-device-monitor/usr/share/man/man1
	cp debian/usb-device-monitor.1 debian/usb-device-monitor/usr/share/man/man1/

# Let dh_python3 handle the entry point creation automatically
# override_dh_fixperms:
# 	dh_fixperms
# 	chmod 755 debian/usb-device-monitor/usr/bin/usb-device-monitor 